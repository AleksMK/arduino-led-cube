   1               		.file	"software.c"
   2               	__SREG__ = 0x3f
   3               	__SP_H__ = 0x3e
   4               	__SP_L__ = 0x3d
   5               	__tmp_reg__ = 0
   6               	__zero_reg__ = 1
   7               		.global __do_copy_data
   8               		.global __do_clear_bss
  11               		.text
  12               	.Ltext0:
  75               	.global	setup
  77               	setup:
  78               		.stabd	46,0,0
   1:software.c    **** #define F_CPU 16000000UL
   2:software.c    **** 
   3:software.c    **** #include <avr/delay.h>
   4:software.c    **** #include <avr/io.h>
   5:software.c    **** 
   6:software.c    **** void setup() {
  80               	.LM0:
  81               	.LFBB1:
  82               	/* prologue: function */
  83               	/* frame size = 0 */
  84               	/* stack size = 0 */
  85               	.L__stack_usage = 0
   7:software.c    ****     DDRC = 0x3F;  // HCF Demux output(3) + OE + RST + CLK
  87               	.LM1:
  88 0000 8FE3      		ldi r24,lo8(63)
  89 0002 87B9      		out 39-0x20,r24
   8:software.c    ****     DDRD = 0xFC;  // Data bus
  91               	.LM2:
  92 0004 8CEF      		ldi r24,lo8(-4)
  93 0006 8AB9      		out 42-0x20,r24
   9:software.c    ****     DDRB = 0x03;  // Data bus
  95               	.LM3:
  96 0008 83E0      		ldi r24,lo8(3)
  97 000a 84B9      		out 36-0x20,r24
  10:software.c    **** 
  11:software.c    ****     PORTC = ~0x3F;
  99               	.LM4:
 100 000c 80EC      		ldi r24,lo8(-64)
 101 000e 88B9      		out 40-0x20,r24
  12:software.c    ****     PORTC |= _BV(PC5); // RST on
 103               	.LM5:
 104 0010 459A      		sbi 40-0x20,5
  13:software.c    ****     PORTC |= _BV(PC3); // OE on
 106               	.LM6:
 107 0012 439A      		sbi 40-0x20,3
 108               	/* epilogue start */
  14:software.c    **** }
 110               	.LM7:
 111 0014 0895      		ret
 113               	.Lscope1:
 115               		.stabd	78,0,0
 117               	.global	toogle_clk
 119               	toogle_clk:
 120               		.stabd	46,0,0
  15:software.c    **** 
  16:software.c    **** void toogle_clk(void) {
 122               	.LM8:
 123               	.LFBB2:
 124               	/* prologue: function */
 125               	/* frame size = 0 */
 126               	/* stack size = 0 */
 127               	.L__stack_usage = 0
  17:software.c    ****     PORTC |= _BV(PC4);
 129               	.LM9:
 130 0016 449A      		sbi 40-0x20,4
  18:software.c    ****     //_delay_ms(5);
  19:software.c    ****     PORTC &= ~_BV(PC4);
 132               	.LM10:
 133 0018 4498      		cbi 40-0x20,4
 134               	/* epilogue start */
  20:software.c    **** }
 136               	.LM11:
 137 001a 0895      		ret
 139               	.Lscope2:
 141               		.stabd	78,0,0
 143               	.global	reset_cd
 145               	reset_cd:
 146               		.stabd	46,0,0
  21:software.c    **** 
  22:software.c    **** void reset_cd(void) {
 148               	.LM12:
 149               	.LFBB3:
 150               	/* prologue: function */
 151               	/* frame size = 0 */
 152               	/* stack size = 0 */
 153               	.L__stack_usage = 0
  23:software.c    ****     PORTC |= _BV(PC5);
 155               	.LM13:
 156 001c 459A      		sbi 40-0x20,5
  24:software.c    ****     //_delay_ms(5);
  25:software.c    ****     PORTC &= ~_BV(PC5);
 158               	.LM14:
 159 001e 4598      		cbi 40-0x20,5
 160               	/* epilogue start */
  26:software.c    **** }
 162               	.LM15:
 163 0020 0895      		ret
 165               	.Lscope3:
 167               		.stabd	78,0,0
 169               	.global	go_start
 171               	go_start:
 172               		.stabd	46,0,0
  27:software.c    **** 
  28:software.c    **** void go_start(void) {
 174               	.LM16:
 175               	.LFBB4:
 176               	/* prologue: function */
 177               	/* frame size = 0 */
 178               	/* stack size = 0 */
 179               	.L__stack_usage = 0
  29:software.c    ****     reset_cd();
 181               	.LM17:
 182 0022 0E94 0000 		call reset_cd
  30:software.c    ****     toogle_clk();
 184               	.LM18:
 185 0026 0E94 0000 		call toogle_clk
 186               	/* epilogue start */
  31:software.c    **** }
 188               	.LM19:
 189 002a 0895      		ret
 191               	.Lscope4:
 193               		.stabd	78,0,0
 197               	.global	add_data
 199               	add_data:
 200               		.stabd	46,0,0
  32:software.c    **** 
  33:software.c    **** void add_data(uint8_t data, uint8_t addr) {
 202               	.LM20:
 203               	.LFBB5:
 204               	/* prologue: function */
 205               	/* frame size = 0 */
 206               	/* stack size = 0 */
 207               	.L__stack_usage = 0
  34:software.c    ****     PORTC = addr;
 209               	.LM21:
 210 002c 68B9      		out 40-0x20,r22
  35:software.c    **** 
  36:software.c    ****     // Need to test this.
  37:software.c    ****     PORTD = (data << 2);
 212               	.LM22:
 213 002e 982F      		mov r25,r24
 214 0030 990F      		lsl r25
 215 0032 990F      		lsl r25
 216 0034 9BB9      		out 43-0x20,r25
  38:software.c    ****     PORTB = (data >> 6);
 218               	.LM23:
 219 0036 8295      		swap r24
 220 0038 8695      		lsr r24
 221 003a 8695      		lsr r24
 222 003c 8370      		andi r24,lo8(3)
 223 003e 85B9      		out 37-0x20,r24
  39:software.c    **** 
  40:software.c    ****     if (addr == 7)
 225               	.LM24:
 226 0040 6730      		cpi r22,lo8(7)
 227 0042 01F4      		brne .L6
  41:software.c    ****         PORTC = 0x00;
 229               	.LM25:
 230 0044 18B8      		out 40-0x20,__zero_reg__
 231 0046 0895      		ret
 232               	.L6:
  42:software.c    ****     else
  43:software.c    ****         PORTC = addr+1;
 234               	.LM26:
 235 0048 6F5F      		subi r22,lo8(-(1))
 236 004a 68B9      		out 40-0x20,r22
 237 004c 0895      		ret
 239               	.Lscope5:
 241               		.stabd	78,0,0
 244               	.global	oe
 246               	oe:
 247               		.stabd	46,0,0
  44:software.c    **** }
  45:software.c    **** 
  46:software.c    **** void oe(uint8_t state) {
 249               	.LM27:
 250               	.LFBB6:
 251               	/* prologue: function */
 252               	/* frame size = 0 */
 253               	/* stack size = 0 */
 254               	.L__stack_usage = 0
  47:software.c    ****     if (state == 0)
 256               	.LM28:
 257 004e 8823      		tst r24
 258 0050 01F4      		brne .L9
  48:software.c    ****         PORTC &= ~_BV(PC3);
 260               	.LM29:
 261 0052 4398      		cbi 40-0x20,3
 262 0054 0895      		ret
 263               	.L9:
  49:software.c    ****     if (state == 1)
 265               	.LM30:
 266 0056 8130      		cpi r24,lo8(1)
 267 0058 01F4      		brne .L8
  50:software.c    ****         PORTC |= _BV(PC3);
 269               	.LM31:
 270 005a 439A      		sbi 40-0x20,3
 271               	.L8:
 272 005c 0895      		ret
 274               	.Lscope6:
 276               		.stabd	78,0,0
 277               		.section	.text.startup,"ax",@progbits
 279               	.global	main
 281               	main:
 282               		.stabd	46,0,0
  51:software.c    **** }
  52:software.c    **** 
  53:software.c    **** 
  54:software.c    **** int main() {
 284               	.LM32:
 285               	.LFBB7:
 286               	/* prologue: function */
 287               	/* frame size = 0 */
 288               	/* stack size = 0 */
 289               	.L__stack_usage = 0
  55:software.c    ****     setup();
 291               	.LM33:
 292 0000 0E94 0000 		call setup
  56:software.c    ****     PORTC &= ~_BV(PC5); // RST off
 294               	.LM34:
 295 0004 4598      		cbi 40-0x20,5
  57:software.c    **** 
  58:software.c    **** 
  59:software.c    ****     add_data(0x55, 0x00);
 297               	.LM35:
 298 0006 85E5      		ldi r24,lo8(85)
 299 0008 60E0      		ldi r22,lo8(0)
 300 000a 0E94 0000 		call add_data
 301               	.L12:
 302 000e 00C0      		rjmp .L12
 304               	.Lscope7:
 306               		.stabd	78,0,0
 307               		.text
 309               	.Letext0:
DEFINED SYMBOLS
                            *ABS*:00000000 software.c
     /tmp/ccnLn1tl.s:2      *ABS*:0000003f __SREG__
     /tmp/ccnLn1tl.s:3      *ABS*:0000003e __SP_H__
     /tmp/ccnLn1tl.s:4      *ABS*:0000003d __SP_L__
     /tmp/ccnLn1tl.s:5      *ABS*:00000000 __tmp_reg__
     /tmp/ccnLn1tl.s:6      *ABS*:00000001 __zero_reg__
     /tmp/ccnLn1tl.s:77     .text:00000000 setup
     /tmp/ccnLn1tl.s:119    .text:00000016 toogle_clk
     /tmp/ccnLn1tl.s:145    .text:0000001c reset_cd
     /tmp/ccnLn1tl.s:171    .text:00000022 go_start
     /tmp/ccnLn1tl.s:199    .text:0000002c add_data
     /tmp/ccnLn1tl.s:246    .text:0000004e oe
     /tmp/ccnLn1tl.s:281    .text.startup:00000000 main

UNDEFINED SYMBOLS
__do_copy_data
__do_clear_bss
